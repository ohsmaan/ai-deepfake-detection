<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>AI Deepfake Detector</title>
    <link rel="stylesheet" href="popup.css">
</head>
<body>
    <div class="container">
        <header>
            <h1>🤖 AI Deepfake Detector</h1>
            <p class="subtitle">Right-click any image to detect deepfakes</p>
        </header>

        <div class="status-section">
            <div id="status" class="status">
                <div class="status-icon">🔍</div>
                <div class="status-text">Ready to detect</div>
            </div>
        </div>

        <div class="controls">
            <button id="scanBtn" class="btn btn-primary">
                <span class="btn-icon">🔍</span>
                Scan Page Images
            </button>
            <button id="scanVideosBtn" class="btn btn-primary">
                <span class="btn-icon">🎥</span>
                Scan Page Videos
            </button>
            <button id="scanAudioBtn" class="btn btn-primary">
                <span class="btn-icon">🎵</span>
                Scan Page Audio
            </button>
            <button id="clearBtn" class="btn btn-secondary">
                <span class="btn-icon">🗑️</span>
                Clear Results
            </button>
        </div>

        <div class="filter-section">
            <h3>🤖 AI Content Filter</h3>
            <div class="filter-controls">
                <button id="filterToggleBtn" class="btn btn-filter">
                    <span class="btn-icon">🚫</span>
                    <span id="filterToggleText">Enable Filter</span>
                </button>
                <div class="filter-info">
                    <p>Automatically hide AI-generated content on Twitter/YouTube</p>
                    <div class="filter-stats">
                        <span id="filterCount">0</span> items hidden
                    </div>
                </div>
            </div>
        </div>

        <div class="text-detection-section">
            <h3>📝 Text Detection</h3>
            <div class="text-controls">
                <div class="control-group">
                    <label class="checkbox-label">
                        <input type="checkbox" id="textDetectionToggle">
                        <span class="checkmark"></span>
                        Enable Text Detection
                    </label>
                    <p class="control-description">Detect bot/LLM-generated text on Twitter, YouTube, and other sites</p>
                </div>
                <div class="control-group">
                    <label for="textConfidenceThreshold">Confidence Threshold:</label>
                    <div class="slider-container">
                        <input type="range" id="textConfidenceThreshold" min="0.5" max="0.95" step="0.05" value="0.8">
                        <span id="textConfidenceValue">80%</span>
                    </div>
                    <p class="control-description">Higher threshold = fewer false positives</p>
                </div>
            </div>
        </div>

        <div class="results-section">
            <h3>Detection Results</h3>
            <div id="results" class="results">
                <div class="no-results">No content scanned yet</div>
            </div>
        </div>

        <div class="instructions">
            <h3>💡 How to Use</h3>
            <div class="instruction-item">
                <span class="instruction-icon">🖱️</span>
                <span>Right-click any image on the page</span>
            </div>
            <div class="instruction-item">
                <span class="instruction-icon">🔍</span>
                <span>Select "Detect Deepfake" from the menu</span>
            </div>
            <div class="instruction-item">
                <span class="instruction-icon">🎥</span>
                <span>Click "Analyze Video" button on videos</span>
            </div>
            <div class="instruction-item">
                <span class="instruction-icon">🎵</span>
                <span>Audio analysis runs automatically with videos</span>
            </div>
            <div class="instruction-item">
                <span class="instruction-icon">📊</span>
                <span>View results in the notification</span>
            </div>
        </div>

        <footer>
            <div class="api-status">
                <span id="apiStatus" class="status-indicator">●</span>
                <span id="apiStatusText">API: Unknown</span>
            </div>
        </footer>
    </div>

    <script src="popup.js"></script>
</body>
</html>
